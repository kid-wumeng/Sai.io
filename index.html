<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>
<body>

  <h1 id="btn">点击发送</h1>

  <script type="text/javascript" src="./dist/remote-app.js"></script>
  <script type="text/javascript">

    api = new Sai.RemoteApp('ws://127.0.0.1:9000')

    api.fail(function(error){
      console.log('统一失败')
      console.log(error.message)
    })

    api.on('open', function(){
      console.log('打开了！')
    })
    api.on('close', function(){
      console.log('关闭了！')
    })
    api.on('error', function(){
      console.log('错误了！')
    })

    document.getElementById('btn').addEventListener('click', (event)=>{
      api.call('shop.findBook', 'kid', 6).done((result)=>{
        console.log(result)
      })
    })

  </script>
</body>
</html>